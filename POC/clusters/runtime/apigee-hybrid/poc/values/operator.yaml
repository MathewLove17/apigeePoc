# =========================================================
# Apigee Hybrid Operator â€“ AKS compatible
# =========================================================

# -------------------------
# Apigee org / project
# -------------------------
org: "pocapigee-485810"

gcp:
  projectID: "pocapigee-485810"
  region: "europe-west1"

namespace: apigee

# -------------------------
# Workload Identity (NO GKE)
# -------------------------
workloadIdentity:
  enabled: false

federatedWorkloadIdentity:
  enabled: false

# -------------------------
# Node scheduling (AKS SAFE)
# -------------------------
# IMPORTANTE:
# - No usar labels de GKE
# - No forzar afinidad
nodeSelector:
  requiredForScheduling: false

affinity: {}

tolerations: []

# -------------------------
# Apigee Operator
# -------------------------
ao:
  image:
    url: "gcr.io/apigee-release/hybrid/apigee-operators"
    tag: "1.16.0"
    pullPolicy: Always

  args:
    loglevel: info
    enableWebhooks: true
    enableControllers: true
    enableAPIClient: true
    disableFluentdSizeLimit: false
    disableManagedClusterRoles: true
    disableSAPProjection: true

  resources:
    limits:
      cpu: 1000m
      memory: 1024Mi
    requests:
      cpu: 400m
      memory: 512Mi

# -------------------------
# Guardrails
# -------------------------
guardrails:
  image:
    url: "gcr.io/apigee-release/hybrid/apigee-watcher"
    tag: "1.16.0"
    pullPolicy: IfNotPresent

  resources:
    requests:
      cpu: 500m
      memory: 64Mi

  # ðŸ‘‡ USAMOS EL SECRET DE ESO (Key Vault â†’ K8s)
  serviceAccountRef: gcp-sa-json

  # NO usar en AKS:
  # serviceAccountPath
  # serviceAccountSecretProviderClass
